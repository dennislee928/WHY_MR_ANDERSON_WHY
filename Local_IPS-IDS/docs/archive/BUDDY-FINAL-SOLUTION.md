# Buddy Works æœ€çµ‚è§£æ±ºæ–¹æ¡ˆ
## è§£æ±ºæ‰€æœ‰é‡è¤‡ç®¡é“å’Œ Docker è¨­å®šå•é¡Œ

> ğŸ“… **ä¿®å¾©æ—¥æœŸ**: 2025-10-09  
> ğŸ¯ **ç›®æ¨™**: è§£æ±ºæ‰€æœ‰ Buddy Works å°å…¥è¡çª  
> âœ… **ç‹€æ…‹**: æä¾›æœ€çµ‚è§£æ±ºæ–¹æ¡ˆ

---

## ğŸ› å•é¡Œç¸½çµ

### å·²è§£æ±ºçš„å•é¡Œ

1. **âœ… é‡è¤‡ç®¡é“åç¨±** - åˆªé™¤äº† `buddy.yml` å’Œ `.buddy/pipeline.fixed.yml`
2. **âœ… å¤šç®¡é“æª”æ¡ˆ** - åªä¿ç•™å–®ç¨çš„ç®¡é“æª”æ¡ˆ
3. **âœ… Docker é¡åƒè¨­å®š** - ä¿®å¾©äº† `docker_image_name` ç¼ºå¤±å•é¡Œ
4. **âœ… è·¯å¾‘æ ¼å¼** - æ‰€æœ‰è·¯å¾‘éƒ½å·²ä¿®å¾©ç‚ºçµ•å°è·¯å¾‘

---

## ğŸš€ æœ€çµ‚è§£æ±ºæ–¹æ¡ˆ

### æ–¹æ¡ˆ A: ä½¿ç”¨æ ¹ç›®éŒ„æª”æ¡ˆï¼ˆæ¨è–¦ï¼‰

**æœ€ç°¡å–®ä¸”æœ€å¯é çš„è§£æ±ºæ–¹æ¡ˆ**ï¼š

```
YAML PATH: build-installers.yml
```

**å„ªé»**:
- âœ… å–®ä¸€ç®¡é“ï¼Œç„¡è¡çª
- âœ… æ‰€æœ‰è·¯å¾‘å·²ä¿®å¾©
- âœ… å®Œæ•´çš„æ§‹å»ºæµç¨‹
- âœ… åŒ…å« GitHub Release åŠŸèƒ½

### æ–¹æ¡ˆ B: ä½¿ç”¨å–®ç¨æª”æ¡ˆï¼ˆæŒ‰é †åºå°å…¥ï¼‰

**å¯ç”¨çš„å–®ç¨æª”æ¡ˆ**ï¼ˆå·²ä¿®å¾©æ‰€æœ‰å•é¡Œï¼‰ï¼š

| æª”æ¡ˆ | ç®¡é“åç¨± | ç‹€æ…‹ | ç”¨é€” |
|------|----------|------|------|
| `.buddy/01-build-installers.yml` | Build On-Premise Installers | âœ… å¯ç”¨ | æ§‹å»ºå®‰è£æª” |
| `.buddy/02-ci-pipeline.yml` | CI Pipeline | âœ… å¯ç”¨ | æŒçºŒé›†æˆ |
| `.buddy/03-kubernetes-deployment.yml` | Kubernetes Deployment | âœ… å¯ç”¨ | K8s éƒ¨ç½² |
| `.buddy/04-performance-testing.yml` | Performance Testing | âœ… å¯ç”¨ | æ€§èƒ½æ¸¬è©¦ |
| `.buddy/05-security-audit.yml` | Security Audit | âœ… å¯ç”¨ | å®‰å…¨å¯©è¨ˆ |
| `.buddy/06-chaos-engineering.yml` | Chaos Engineering | âœ… å¯ç”¨ | æ··æ²Œå·¥ç¨‹ |

---

## ğŸ“Š ä¿®å¾©æ‘˜è¦

### åˆªé™¤çš„æª”æ¡ˆ

| æª”æ¡ˆ | åŸå›  | ç‹€æ…‹ |
|------|------|------|
| `buddy.yml` | åŒ…å«å¤šå€‹ç®¡é“ï¼Œé€ æˆåç¨±è¡çª | âœ… å·²åˆªé™¤ |
| `.buddy/pipeline.fixed.yml` | åŒ…å«å¤šå€‹ç®¡é“ï¼Œé€ æˆåç¨±è¡çª | âœ… å·²åˆªé™¤ |

### ä¿®å¾©çš„æª”æ¡ˆ

| æª”æ¡ˆ | ä¿®å¾©å…§å®¹ | ç‹€æ…‹ |
|------|----------|------|
| `.buddy/02-ci-pipeline.yml` | æ·»åŠ  `docker_image_name` | âœ… å·²ä¿®å¾© |
| æ‰€æœ‰ `.buddy/*.yml` æª”æ¡ˆ | ä¿®å¾©è·¯å¾‘æ ¼å¼ | âœ… å·²ä¿®å¾© |
| `build-installers.yml` | ä¿®å¾©æ‰€æœ‰å•é¡Œ | âœ… å·²ä¿®å¾© |

---

## ğŸ¯ æ¨è–¦å°å…¥æ­¥é©Ÿ

### ç¬¬ä¸€æ­¥ï¼šå°å…¥ä¸»è¦ç®¡é“

1. **åœ¨ Buddy Works ä¸­**:
   - é»æ“Š "Pipelines" â†’ "Add new"
   - é¸æ“‡ "Import YAML" â†’ "From Git"
   - è¨­ç½®ï¼š
     - **PROJECT**: `Local_IPS-IDS (This project)`
     - **BRANCH**: `main` æˆ– `dev`
     - **YAML PATH**: `build-installers.yml`
   - é»æ“Š "Import pipeline"

2. **é…ç½®ç’°å¢ƒè®Šæ•¸**:
   - æ·»åŠ  `GITHUB_TOKEN` (Secret)

### ç¬¬äºŒæ­¥ï¼šå°å…¥å…¶ä»–ç®¡é“ï¼ˆå¯é¸ï¼‰

å¦‚æœéœ€è¦æ›´å¤šç®¡é“ï¼ŒæŒ‰é †åºå°å…¥ï¼š

```
.buddy/02-ci-pipeline.yml      # CI Pipeline
.buddy/03-kubernetes-deployment.yml  # Kubernetes Deployment
.buddy/04-performance-testing.yml    # Performance Testing
.buddy/05-security-audit.yml         # Security Audit
.buddy/06-chaos-engineering.yml      # Chaos Engineering
```

---

## ğŸ”§ é…ç½®éœ€æ±‚

### ç’°å¢ƒè®Šæ•¸

åœ¨ Buddy Works é …ç›®è¨­ç½®ä¸­æ·»åŠ ï¼š

| è®Šæ•¸åç¨± | é¡å‹ | æè¿° | ç¯„ä¾‹ |
|----------|------|------|------|
| `GITHUB_TOKEN` | Secret | GitHub Personal Access Token | `ghp_xxxx...` |
| `BUDDY_REPO_SLUG` | è‡ªå‹• | å€‰åº« slug | `your-org/Local_IPS-IDS` |
| `BUDDY_EXECUTION_BRANCH` | è‡ªå‹• | ç•¶å‰åˆ†æ”¯ | `main` æˆ– `dev` |

### GitHub Token æ¬Šé™

éœ€è¦ä»¥ä¸‹æ¬Šé™ï¼š
- âœ… `repo` - å®Œæ•´å€‰åº«è¨ªå•
- âœ… `write:packages` - ä¸Šå‚³ artifacts
- âœ… `read:org` - è®€å–çµ„ç¹”è³‡è¨Š

---

## ğŸ“ æª”æ¡ˆçµæ§‹

### æœ€çµ‚çš„æª”æ¡ˆçµæ§‹

```
æ ¹ç›®éŒ„/
â”œâ”€â”€ build-installers.yml              # âœ… ä¸»è¦ç®¡é“æª”æ¡ˆ
â”œâ”€â”€ .buddy/
â”‚   â”œâ”€â”€ 01-build-installers.yml       # âœ… å–®ç¨ç®¡é“æª”æ¡ˆ
â”‚   â”œâ”€â”€ 02-ci-pipeline.yml            # âœ… å–®ç¨ç®¡é“æª”æ¡ˆ
â”‚   â”œâ”€â”€ 03-kubernetes-deployment.yml  # âœ… å–®ç¨ç®¡é“æª”æ¡ˆ
â”‚   â”œâ”€â”€ 04-performance-testing.yml    # âœ… å–®ç¨ç®¡é“æª”æ¡ˆ
â”‚   â”œâ”€â”€ 05-security-audit.yml         # âœ… å–®ç¨ç®¡é“æª”æ¡ˆ
â”‚   â””â”€â”€ 06-chaos-engineering.yml      # âœ… å–®ç¨ç®¡é“æª”æ¡ˆ
â””â”€â”€ docs/
    â”œâ”€â”€ BUDDY-FINAL-SOLUTION.md       # âœ… æœ€çµ‚è§£æ±ºæ–¹æ¡ˆ
    â”œâ”€â”€ BUDDY-COMPLETE-FIX-GUIDE.md   # âœ… å®Œæ•´ä¿®å¾©æŒ‡å—
    â”œâ”€â”€ BUDDY-YAML-FIX.md             # âœ… YAML ä¿®å¾©èªªæ˜
    â””â”€â”€ BUDDY-WORKS-SETUP.md          # âœ… è¨­ç½®æŒ‡å—
```

### å·²åˆªé™¤çš„æª”æ¡ˆ

```
âŒ buddy.yml                          # å·²åˆªé™¤ï¼ˆå¤šç®¡é“è¡çªï¼‰
âŒ .buddy/pipeline.fixed.yml          # å·²åˆªé™¤ï¼ˆå¤šç®¡é“è¡çªï¼‰
```

---

## ğŸŠ æˆåŠŸæŒ‡æ¨™

å°å…¥æˆåŠŸå¾Œï¼Œæ‚¨æ‡‰è©²çœ‹åˆ°ï¼š

- âœ… ç®¡é“å‡ºç¾åœ¨ Buddy é …ç›®ä¸­
- âœ… ç®¡é“é…ç½®æ­£ç¢ºé¡¯ç¤º
- âœ… è§¸ç™¼æ¢ä»¶è¨­ç½®æ­£ç¢º
- âœ… Actions åˆ—è¡¨å®Œæ•´
- âœ… ç’°å¢ƒè®Šæ•¸æ­£ç¢ºè¨­ç½®
- âœ… ç„¡é‡è¤‡ç®¡é“åç¨±éŒ¯èª¤
- âœ… ç„¡ Docker è¨­å®šéŒ¯èª¤

---

## ğŸš¨ æ•…éšœæ’é™¤

### å¦‚æœä»ç„¶é‡åˆ°å•é¡Œ

1. **æª¢æŸ¥æª”æ¡ˆæ˜¯å¦å­˜åœ¨**:
   - ç¢ºèªæª”æ¡ˆåœ¨æ­£ç¢ºçš„åˆ†æ”¯ä¸­
   - ç¢ºèªæª”æ¡ˆå·²æ¨é€

2. **æª¢æŸ¥æ¬Šé™**:
   - ç¢ºèª GitHub Token æœ‰é©ç•¶æ¬Šé™
   - ç¢ºèª Buddy æœ‰å€‰åº«è¨ªå•æ¬Šé™

3. **ä½¿ç”¨ Inline YAML**:
   - é¸æ“‡ "Inline YAML" é¸é …
   - ç›´æ¥è¤‡è£½ `build-installers.yml` å…§å®¹
   - è²¼ä¸Šåˆ° Buddy ç·¨è¼¯å™¨

---

## ğŸ“š ç›¸é—œæ–‡æª”

- [å®Œæ•´ä¿®å¾©æŒ‡å—](BUDDY-COMPLETE-FIX-GUIDE.md) - è©³ç´°ä¿®å¾©è¨˜éŒ„
- [YAML ä¿®å¾©èªªæ˜](BUDDY-YAML-FIX.md) - æŠ€è¡“ä¿®å¾©ç´°ç¯€
- [Buddy Works è¨­ç½®](BUDDY-WORKS-SETUP.md) - ç’°å¢ƒé…ç½®

---

**ç‹€æ…‹**: âœ… æ‰€æœ‰å•é¡Œå·²å®Œå…¨è§£æ±º  
**æ¨è–¦æ–¹æ¡ˆ**: ä½¿ç”¨ `build-installers.yml`  
**ä¸‹ä¸€æ­¥**: å°å…¥ Buddy Works ç®¡é“  
**é è¨ˆæ™‚é–“**: 2-3 åˆ†é˜

**ğŸ‰ ç¾åœ¨æ‡‰è©²å¯ä»¥æˆåŠŸå°å…¥ Buddy Works ç®¡é“äº†ï¼**

æ‰€æœ‰è¡çªå’ŒéŒ¯èª¤éƒ½å·²è§£æ±ºï¼
