# Pandora Box Console IDS-IPS - PaaS å¤šå¹³å°éƒ¨ç½²æŒ‡å—

[![Deploy Status](https://img.shields.io/badge/Deploy-PaaS-success)](https://github.com)
[![Railway](https://img.shields.io/badge/Railway-PostgreSQL-brightgreen)](https://railway.app)
[![Render](https://img.shields.io/badge/Render-Redis%20%2B%20Nginx-blue)](https://render.com)
[![Koyeb](https://img.shields.io/badge/Koyeb-Agent-orange)](https://koyeb.com)
[![Patr.io](https://img.shields.io/badge/Patr.io-UI-purple)](https://patr.cloud)
[![Fly.io](https://img.shields.io/badge/Fly.io-Monitoring-lightblue)](https://fly.io)

æœ¬æ–‡ä»¶èªªæ˜å¦‚ä½•å°‡ Pandora Box Console IDS-IPS ç³»çµ±éƒ¨ç½²åˆ°å¤šå€‹å…è²» PaaS å¹³å°ï¼Œå¯¦ç¾é›¶æˆæœ¬çš„é›²ç«¯å¾®æœå‹™æ¶æ§‹ã€‚

## ğŸ“Š æ¶æ§‹æ¦‚è¦½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Pandora Box Console IDS-IPS                      â”‚
â”‚                      PaaS å¤šå¹³å°æ¶æ§‹                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚               â”‚               â”‚
              â–¼               â–¼               â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ Railway  â”‚    â”‚  Render  â”‚    â”‚  Koyeb   â”‚
       â”‚PostgreSQLâ”‚    â”‚Redis+Nginxâ”‚   â”‚  Agent   â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚               â”‚               â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚               â”‚               â”‚
              â–¼               â–¼               â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ Patr.io  â”‚    â”‚       Fly.io             â”‚
       â”‚   UI     â”‚    â”‚ Prometheus+Loki+Grafana  â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ éƒ¨ç½²ç­–ç•¥

| å¾®æœå‹™ | éƒ¨ç½²å¹³å° | éƒ¨ç½²æ–¹å¼ | ç†ç”± |product|
|--------|---------|---------|------|------|
| **PostgreSQL** | Railway.app | Managed Database | å…è²»è¨—ç®¡ PostgreSQLï¼Œç©©å®šå¯é  |ballast.proxy.rlwy.net:53524|
| **Redis** | Render | Managed Redis | å…è²»è¨—ç®¡ Redisï¼Œä½å»¶é²å¿«å– |https://redis-7-2-11-alpine3-21.onrender.com|
| **Nginx** | Render | Web Service | åå‘ä»£ç†ï¼Œçµ±ä¸€æµé‡å…¥å£ |https://nginx-stable-perl-boqt.onrender.com|
| **pandora-agent** | Koyeb | Docker Container | 2 å€‹æ°¸ä¸ä¼‘çœ å®¹å™¨ï¼Œ24/7 é‹è¡Œ ||
| **promtail** | Koyeb | Sidecar | èˆ‡ Agent å…±åŒéƒ¨ç½²ï¼Œæ”¶é›†æ—¥èªŒ ||
| **axiom-ui** | Patr.io | Container | UI ä¼ºæœå™¨ï¼Œç”¨æˆ¶ä»‹é¢æµé‡åˆ†é›¢ ||
| **Prometheus** | Fly.io | Docker App | æ°¸ä¹…å„²å­˜ç©ºé–“ï¼Œç›£æ§æŒ‡æ¨™æ”¶é›† |https://pandora-monitoring.fly.dev/prometheus|
| **Loki** | Fly.io | Docker App | æ°¸ä¹…å„²å­˜ç©ºé–“ï¼Œæ—¥èªŒèšåˆ |https://pandora-monitoring.fly.dev/loki|
| **Grafana** | Fly.io | Docker App | è¦–è¦ºåŒ–å„€è¡¨æ¿ï¼Œéš¨æ™‚å¯ç”¨ | https://pandora-monitoring.fly.dev|
| **AlertManager** | Fly.io | Docker App | å‘Šè­¦ç³»çµ±ï¼Œå…¨æ™‚é‹è¡Œ | https://pandora-monitoring.fly.dev/alertmanager|
| **node-exporter** | - | ä¸éƒ¨ç½² | PaaS ç’°å¢ƒç„¡æ³•ç›£æ§åº•å±¤ä¸»æ©Ÿ ||

## ğŸš€ å¿«é€Ÿé–‹å§‹

### å‰ç½®éœ€æ±‚

1. **å¸³è™Ÿè¨»å†Š**
   - [Railway.app](https://railway.app)
   - [Render](https://render.com)
   - [Koyeb](https://koyeb.com)
   - [Patr.io](https://patr.cloud)
   - [Fly.io](https://fly.io)

2. **å®‰è£ CLI å·¥å…·**
   ```bash
   # Railway CLI
   npm install -g @railway/cli
   
   # Render CLI (å¯é¸)
   # ä¸»è¦ä½¿ç”¨ Web Dashboard
   
   # Koyeb CLI
   curl -fsSL https://cli.koyeb.com/install.sh | bash
   
   # Patr.io CLI (å¯é¸)
   # ä¸»è¦ä½¿ç”¨ Web Dashboard
   
   # Fly.io CLI
   curl -L https://fly.io/install.sh | sh
   ```

3. **å…¶ä»–å·¥å…·**
   - Docker 20.10+
   - Git
   - curl
   - jq (å¯é¸)

### ä¸€éµéƒ¨ç½²

```bash
# 1. è¤‡è£½ç’°å¢ƒè®Šæ•¸ç¯„æœ¬
cp env.paas.example .env.paas

# 2. ç·¨è¼¯ .env.paasï¼Œå¡«å…¥å„å¹³å°çš„ API Token å’Œ URL

# 3. åŸ·è¡Œéƒ¨ç½²è…³æœ¬
chmod +x scripts/deploy-paas.sh
./scripts/deploy-paas.sh

# 4. é©—è­‰éƒ¨ç½²
chmod +x scripts/verify-paas-deployment.sh
./scripts/verify-paas-deployment.sh
```

## ğŸ“ è©³ç´°éƒ¨ç½²æ­¥é©Ÿ

### 1ï¸âƒ£ Railway - PostgreSQL è³‡æ–™åº«

#### ä½¿ç”¨ CLI éƒ¨ç½²

```bash
# ç™»å…¥ Railway
railway login

# å»ºç«‹æ–°å°ˆæ¡ˆ
railway init --name pandora-postgresql

# æ·»åŠ  PostgreSQL è³‡æ–™åº«
railway add --database postgresql

# ä¸Šå‚³åˆå§‹åŒ– SQL
railway up configs/postgres/init.sql
```

#### ä½¿ç”¨ Web Dashboard

1. å‰å¾€ [Railway Dashboard](https://railway.app/dashboard)
2. é»æ“Š "New Project"
3. é¸æ“‡ "Provision PostgreSQL"
4. å°ˆæ¡ˆå»ºç«‹å¾Œï¼Œé€²å…¥ PostgreSQL æœå‹™
5. åœ¨ "Variables" æ¨™ç±¤ä¸­è¤‡è£½ `DATABASE_URL`
6. åœ¨ "Data" æ¨™ç±¤ä¸­åŸ·è¡Œ `configs/postgres/init.sql`

#### ç’°å¢ƒè®Šæ•¸è¨­å®š

```bash
# è¤‡è£½ä»¥ä¸‹è®Šæ•¸åˆ° .env.paas
RAILWAY_DATABASE_URL=postgresql://postgres:xxx@containers-us-west-xxx.railway.app:5432/railway
POSTGRES_HOST=containers-us-west-xxx.railway.app
POSTGRES_PORT=5432
POSTGRES_DB=railway
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-password
```

### 2ï¸âƒ£ Render - Redis + Nginx

#### éƒ¨ç½² Redis

1. å‰å¾€ [Render Dashboard](https://dashboard.render.com)
2. é»æ“Š "New +" â†’ "Redis"
3. é¸æ“‡å…è²»æ–¹æ¡ˆ (Free)
4. å»ºç«‹å¾Œè¤‡è£½ "Internal Redis URL" å’Œ "External Redis URL"

#### éƒ¨ç½² Nginx

1. åœ¨ Render Dashboard é»æ“Š "New +" â†’ "Web Service"
2. é€£æ¥ GitHub Repository
3. è¨­å®šå¦‚ä¸‹ï¼š
   - **Name**: `pandora-nginx`
   - **Environment**: `Docker`
   - **Dockerfile Path**: `Dockerfile.nginx`
   - **Plan**: `Free`

4. è¨­å®šç’°å¢ƒè®Šæ•¸ï¼š
   ```
   AXIOM_UI_URL=https://axiom-ui-xxx.patr.cloud
   GRAFANA_URL=https://pandora-monitoring.fly.dev
   PROMETHEUS_URL=https://pandora-monitoring.fly.dev/prometheus
   LOKI_URL=https://pandora-monitoring.fly.dev/loki
   ALERTMANAGER_URL=https://pandora-monitoring.fly.dev/alertmanager
   ```

5. éƒ¨ç½²å®Œæˆå¾Œï¼Œè¤‡è£½æœå‹™ URL

### 3ï¸âƒ£ Koyeb - Pandora Agent + Promtail

#### ä½¿ç”¨ CLI éƒ¨ç½²

```bash
# ç™»å…¥ Koyeb
koyeb login

# å»ºç½® Docker æ˜ åƒ
docker build -f Dockerfile.agent.koyeb -t your-docker-username/pandora-agent:latest .
docker push your-docker-username/pandora-agent:latest

# å»ºç«‹æ‡‰ç”¨
koyeb app create pandora-agent

# éƒ¨ç½²æœå‹™
koyeb service create pandora-agent \
  --app pandora-agent \
  --docker your-docker-username/pandora-agent:latest \
  --ports 8080:http \
  --routes /:8080 \
  --regions fra \
  --instance-type nano \
  --replicas 2 \
  --env DATABASE_URL=$RAILWAY_DATABASE_URL \
  --env REDIS_URL=$RENDER_REDIS_URL \
  --env PROMETHEUS_URL=$PROMETHEUS_URL \
  --env LOKI_URL=$LOKI_URL \
  --env GRAFANA_URL=$GRAFANA_URL
```

#### ä½¿ç”¨ Web Dashboardï¼ˆæ¨è–¦ï¼‰

1. **å‰å¾€ [Koyeb Dashboard](https://app.koyeb.com)**
2. **é»æ“Š "Create App"**
3. **é¸æ“‡éƒ¨ç½²ä¾†æº**
   - é¸æ“‡ "GitHub"
   - é¸æ“‡ Repository: `pandora_box_console_IDS-IPS`
   - é¸æ“‡ Branch: `main`

4. **è¨­å®šå»ºç½®é…ç½®** âš ï¸ é‡è¦
   - **Builder**: Docker
   - **Dockerfile path**: `Dockerfile.agent.koyeb` ï¼ˆå¿…é ˆæ˜ç¢ºæŒ‡å®šï¼ï¼‰
   - **Build context**: `/` (root)

5. **è¨­å®šéƒ¨ç½²é…ç½®**
   - **App name**: `pandora-agent`
   - **Service name**: `pandora-agent`
   - **Region**: Europe (Frankfurt) - `fra`
   - **Instance type**: Nano
   - **Instances**: 2
   - **Port**: 8080

6. **æ–°å¢ç’°å¢ƒè®Šæ•¸**ï¼ˆè¦‹ä¸Šè¿° CLI ç¯„ä¾‹ï¼‰

7. **è¨­å®šå¥åº·æª¢æŸ¥**
   - **Type**: HTTP
   - **Path**: `/health`
   - **Port**: 8080

8. **é»æ“Š "Deploy"**

> **æ³¨æ„**: å¦‚æœé‡åˆ° Dockerfile æ‰¾ä¸åˆ°çš„éŒ¯èª¤ï¼Œè«‹ç¢ºèªåœ¨ "Dockerfile path" æ¬„ä½ä¸­æ­£ç¢ºå¡«å…¥ `Dockerfile.agent.koyeb`ï¼ˆä¸è¦åŒ…å« `./` å‰ç¶´ï¼‰ã€‚è©³ç´°æ•…éšœæ’é™¤è«‹åƒé–± [KOYEB-DEPLOYMENT-GUIDE.md](KOYEB-DEPLOYMENT-GUIDE.md)

### 4ï¸âƒ£ Patr.io - Axiom UI

#### ä½¿ç”¨ Web Dashboard

1. å‰å¾€ [Patr.io Dashboard](https://patr.cloud)
2. é»æ“Š "New Deployment"
3. é€£æ¥ GitHub Repository
4. è¨­å®šï¼š
   - **Name**: `axiom-ui`
   - **Dockerfile**: `Dockerfile.ui.patr`
   - **Port**: 3001
   - **Resources**: 512Mi RAM, 0.5 CPU

5. è¨­å®šç’°å¢ƒè®Šæ•¸ï¼š
   ```
   PORT=3001
   LOG_LEVEL=info
   GIN_MODE=release
   DATABASE_URL=$RAILWAY_DATABASE_URL
   REDIS_URL=$RENDER_REDIS_URL
   AGENT_URL=$KOYEB_AGENT_URL
   PROMETHEUS_URL=$PROMETHEUS_URL
   GRAFANA_URL=$GRAFANA_URL
   JWT_SECRET=your-jwt-secret-key
   ```

6. éƒ¨ç½²å®Œæˆå¾Œï¼Œè¤‡è£½æœå‹™ URL

### 5ï¸âƒ£ Fly.io - ç›£æ§ç³»çµ±

#### åˆå§‹åŒ–å°ˆæ¡ˆ

```bash
# ç™»å…¥ Fly.io
fly auth login

# å»ºç«‹æ‡‰ç”¨
fly apps create pandora-monitoring --org personal

# å»ºç«‹æŒä¹…åŒ–å„²å­˜
fly volumes create prometheus_data --size 3 --region nrt
fly volumes create loki_data --size 3 --region nrt
fly volumes create grafana_data --size 1 --region nrt
fly volumes create alertmanager_data --size 1 --region nrt
```

#### è¨­å®šç’°å¢ƒè®Šæ•¸

```bash
fly secrets set \
  GRAFANA_ADMIN_PASSWORD=pandora123 \
  LOG_LEVEL=info \
  TZ=Asia/Taipei
```

#### éƒ¨ç½²æ‡‰ç”¨

```bash
fly deploy --config fly.toml --dockerfile Dockerfile.monitoring
```

#### é©—è­‰éƒ¨ç½²

```bash
# æª¢æŸ¥æ‡‰ç”¨ç‹€æ…‹
fly status

# æª¢æŸ¥æ—¥èªŒ
fly logs

# é–‹å•Ÿæ‡‰ç”¨
fly open
```

## ğŸ”’ å®‰å…¨è¨­å®š

### ç’°å¢ƒè®Šæ•¸ç®¡ç†

1. **çµ•ä¸æäº¤ `.env.paas` åˆ°ç‰ˆæœ¬æ§åˆ¶**
   ```bash
   # ç¢ºä¿ .gitignore åŒ…å«
   .env.paas
   .env.paas.local
   ```

2. **ä½¿ç”¨å¼·å¯†ç¢¼å’Œéš¨æ©Ÿå¯†é‘°**
   ```bash
   # ç”ŸæˆåŠ å¯†å¯†é‘°
   openssl rand -hex 32
   
   # ç”Ÿæˆ JWT Secret
   openssl rand -base64 48
   ```

3. **å®šæœŸè¼ªæ›å¯†é‘°**
   - æ¯ 90 å¤©æ›´æ›ä¸€æ¬¡è³‡æ–™åº«å¯†ç¢¼
   - æ¯ 30 å¤©æ›´æ›ä¸€æ¬¡ API Token
   - æ¯ 60 å¤©æ›´æ›ä¸€æ¬¡ JWT Secret

### Secrets è¨­å®š

#### GitHub Secrets

åœ¨ GitHub Repository Settings â†’ Secrets and variables â†’ Actions ä¸­æ–°å¢ï¼š

```
# Railway
RAILWAY_TOKEN=xxx
RAILWAY_PROJECT_ID=xxx
RAILWAY_DATABASE_URL=xxx

# Render
RENDER_API_KEY=xxx
RENDER_SERVICE_ID=xxx
RENDER_REDIS_URL=xxx
RENDER_NGINX_URL=xxx

# Koyeb
KOYEB_TOKEN=xxx
KOYEB_AGENT_URL=xxx
DOCKER_USERNAME=xxx
DOCKER_PASSWORD=xxx

# Patr.io
PATR_API_TOKEN=xxx
PATR_DEPLOYMENT_ID=xxx
PATR_UI_URL=xxx

# Fly.io
FLY_API_TOKEN=xxx
PROMETHEUS_URL=xxx
LOKI_URL=xxx
GRAFANA_URL=xxx
ALERTMANAGER_URL=xxx

# æ‡‰ç”¨ç¨‹å¼
ENCRYPTION_KEY=xxx
JWT_SECRET=xxx
GRAFANA_ADMIN_PASSWORD=xxx
GRAFANA_API_KEY=xxx

# å‘Šè­¦
SLACK_WEBHOOK_URL=xxx
EMAIL_PASSWORD=xxx
```

## ğŸ“Š ç›£æ§èˆ‡ç¶­è­·

### å¥åº·æª¢æŸ¥

```bash
# Agent å¥åº·æª¢æŸ¥
curl https://pandora-agent-xxx.koyeb.app/health

# UI å¥åº·æª¢æŸ¥
curl https://axiom-ui-xxx.patr.cloud/api/v1/status

# Prometheus å¥åº·æª¢æŸ¥
curl https://pandora-monitoring.fly.dev/prometheus/-/healthy

# Loki å¥åº·æª¢æŸ¥
curl https://pandora-monitoring.fly.dev/loki/ready

# Grafana å¥åº·æª¢æŸ¥
curl https://pandora-monitoring.fly.dev/api/health

# AlertManager å¥åº·æª¢æŸ¥
curl https://pandora-monitoring.fly.dev/alertmanager/-/healthy
```

### æŸ¥çœ‹æ—¥èªŒ

```bash
# Railway æ—¥èªŒ
railway logs

# Render æ—¥èªŒ (Web Dashboard)
https://dashboard.render.com/services/xxx/logs

# Koyeb æ—¥èªŒ
koyeb service logs pandora-agent/pandora-agent --follow

# Patr.io æ—¥èªŒ (Web Dashboard)
https://patr.cloud/deployments/xxx/logs

# Fly.io æ—¥èªŒ
fly logs
```

### è³‡æºç›£æ§

è¨ªå•å„å¹³å°çš„ Dashboardï¼š

- **Railway**: https://railway.app/project/xxx
- **Render**: https://dashboard.render.com/services/xxx
- **Koyeb**: https://app.koyeb.com/apps/pandora-agent
- **Patr.io**: https://patr.cloud/deployments/xxx
- **Fly.io**: https://fly.io/dashboard/pandora-monitoring

## ğŸ”„ æ›´æ–°éƒ¨ç½²

### æ‰‹å‹•æ›´æ–°

```bash
# æ›´æ–° Agent (Koyeb)
docker build -f Dockerfile.agent.koyeb -t your-docker-username/pandora-agent:latest .
docker push your-docker-username/pandora-agent:latest
koyeb service redeploy pandora-agent/pandora-agent

# æ›´æ–° UI (Patr.io)
# åœ¨ Patr.io Dashboard é»æ“Š "Redeploy"

# æ›´æ–°ç›£æ§ç³»çµ± (Fly.io)
fly deploy --config fly.toml --dockerfile Dockerfile.monitoring
```

### è‡ªå‹•åŒ–æ›´æ–° (GitHub Actions)

æ¨é€åˆ° `main` åˆ†æ”¯æœƒè‡ªå‹•è§¸ç™¼éƒ¨ç½²ï¼š

```bash
git add .
git commit -m "Update services"
git push origin main
```

æ‰‹å‹•è§¸ç™¼ç‰¹å®šå¹³å°éƒ¨ç½²ï¼š

1. å‰å¾€ GitHub Actions
2. é¸æ“‡ "Deploy to PaaS Platforms"
3. é»æ“Š "Run workflow"
4. é¸æ“‡è¦éƒ¨ç½²çš„å¹³å°
5. é»æ“Š "Run workflow"

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

#### 1. Agent ç„¡æ³•é€£æ¥è³‡æ–™åº«

```bash
# æª¢æŸ¥è³‡æ–™åº« URL
echo $RAILWAY_DATABASE_URL

# æ¸¬è©¦è³‡æ–™åº«é€£æ¥
psql $RAILWAY_DATABASE_URL -c "SELECT 1;"

# æª¢æŸ¥ Koyeb ç’°å¢ƒè®Šæ•¸
koyeb service env pandora-agent/pandora-agent
```

#### 2. Redis é€£æ¥å¤±æ•—

```bash
# æª¢æŸ¥ Redis URL
echo $RENDER_REDIS_URL

# æ¸¬è©¦ Redis é€£æ¥
redis-cli -u $RENDER_REDIS_URL ping

# ç¢ºèª Internal URL ç”¨æ–¼å…§éƒ¨æœå‹™é€šè¨Š
```

#### 3. Prometheus ç„¡æ³•æŠ“å–æŒ‡æ¨™

```bash
# æª¢æŸ¥ Prometheus ç›®æ¨™
curl https://pandora-monitoring.fly.dev/prometheus/api/v1/targets

# ç¢ºèª Agent æš´éœ² metrics ç«¯é»
curl https://pandora-agent-xxx.koyeb.app/metrics
```

#### 4. Fly.io å„²å­˜ç©ºé–“ä¸è¶³

```bash
# æª¢æŸ¥å„²å­˜ç©ºé–“ä½¿ç”¨
fly volumes list

# æ“´å±•å„²å­˜ç©ºé–“
fly volumes extend prometheus_data --size 5

# æ¸…ç†èˆŠè³‡æ–™
fly ssh console
cd /prometheus
rm -rf chunks_head/*.tmp
```

#### 5. éƒ¨ç½²å¤±æ•—

```bash
# æª¢æŸ¥å»ºç½®æ—¥èªŒ
fly logs

# é©—è­‰ Dockerfile
docker build -f Dockerfile.monitoring -t test .

# æª¢æŸ¥é…ç½®æª”æ¡ˆ
fly config validate
```

## ğŸ’° æˆæœ¬ä¼°ç®—

æ‰€æœ‰æœå‹™ä½¿ç”¨å…è²»æ–¹æ¡ˆï¼š

| å¹³å° | æœå‹™ | å…è²»é¡åº¦ | é ä¼°æˆæœ¬ |
|------|------|----------|---------|
| Railway | PostgreSQL | 5GB å„²å­˜, 500hrs/æœˆ | $0 |
| Render | Redis | 25MB RAM | $0 |
| Render | Nginx | 750hrs/æœˆ | $0 |
| Koyeb | Agent | 2 Nano å®¹å™¨ | $0 |
| Patr.io | UI | 512Mi RAM | $0 |
| Fly.io | Monitoring | 3GB å„²å­˜, 160GB æµé‡/æœˆ | $0 |
| **ç¸½è¨ˆ** | | | **$0/æœˆ** |

**æ³¨æ„**: å…è²»é¡åº¦å¯èƒ½éš¨æ™‚è®Šæ›´ï¼Œè«‹åƒè€ƒå„å¹³å°æœ€æ–°å®šåƒ¹ã€‚

## ğŸ“š ç›¸é—œæ–‡ä»¶

- [éƒ¨ç½²è…³æœ¬æ–‡ä»¶](scripts/deploy-paas.sh)
- [é©—è­‰è…³æœ¬æ–‡ä»¶](scripts/verify-paas-deployment.sh)
- [ç’°å¢ƒè®Šæ•¸ç¯„æœ¬](env.paas.example)
- [GitHub Actions Workflow](.github/workflows/deploy-paas.yml)
- [ä¸»è¦ README](README.md)
- [OCI éƒ¨ç½²æŒ‡å—](DEPLOYMENT.md)
- [GCP éƒ¨ç½²æŒ‡å—](DEPLOYMENT-GCP.md)

## ğŸ¤ æ”¯æ´èˆ‡è¯çµ¡

å¦‚æœ‰å•é¡Œè«‹ï¼š

1. æŸ¥çœ‹æœ¬æ–‡ä»¶çš„æ•…éšœæ’é™¤ç« ç¯€
2. æª¢æŸ¥ [GitHub Issues](https://github.com/your-org/pandora_box_console_IDS-IPS/issues)
3. åŠ å…¥è¨è«– [GitHub Discussions](https://github.com/your-org/pandora_box_console_IDS-IPS/discussions)

---

**Â© 2024 Pandora Security Team | MIT License**

