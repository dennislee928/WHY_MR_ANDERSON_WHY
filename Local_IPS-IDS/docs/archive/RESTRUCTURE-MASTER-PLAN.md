# å°ˆæ¡ˆé‡æ§‹ä¸»è¨ˆåŠƒ

> **æ—¥æœŸ**: 2025-10-09  
> **ç‹€æ…‹**: ğŸ”„ è¦åŠƒä¸­  
> **æ–¹æ³•**: è¦åŠƒ â†’ é©—è­‰ â†’ åŸ·è¡Œ â†’ è¨˜éŒ„

---

## ğŸ“Š ç•¶å‰ç‹€æ…‹åˆ†æ

### âŒ ç™¼ç¾çš„å•é¡Œ

æ ¹æ“š `tree` è¼¸å‡ºï¼Œç™¼ç¾ä»¥ä¸‹å•é¡Œï¼š

#### 1. ç›®éŒ„ä½ç½®å•é¡Œ
- âŒ `terraform/.terraform/` å­˜åœ¨ï¼ˆæ‡‰è©²è¢« .gitignore æ’é™¤ï¼‰
- âŒ `Application/Fe/legacy/web-old/` å­˜åœ¨ä½†æœªæ•´åˆ
- âŒ `deployments/terraform/.terraform/` é‡è¤‡
- âš ï¸ `build/docker/` å¯èƒ½ç¼ºå°‘æŸäº› Dockerfiles

#### 2. ç¼ºå°‘çš„æª”æ¡ˆ
- âŒ Application/Fe/ ç¼ºå°‘å¯¦éš›çš„ pages å…§å®¹
- âŒ Application/be/ å¯èƒ½ç¼ºå°‘æŸäº›é€£çµæˆ–é…ç½®
- âŒ æŸäº› Dockerfiles å¯èƒ½éºå¤±

#### 3. çµæ§‹ä¸ä¸€è‡´
- âŒ éƒ¨åˆ†èˆŠæª”æ¡ˆæœªæ¸…ç†
- âŒ éƒ¨åˆ†æ–°çµæ§‹æœªå®Œå…¨å»ºç«‹

---

## ğŸ“‹ é‡æ§‹ä¸»è¨ˆåŠƒï¼ˆ10å€‹éšæ®µï¼‰

### Phase 1: æ·±åº¦åˆ†æå’Œè¦åŠƒ âœ…
**ç›®æ¨™**: å¾¹åº•åˆ†æç¾æœ‰çµæ§‹ï¼Œåˆ—å‡ºæ‰€æœ‰éœ€è¦ç§»å‹•/å‰µå»ºçš„æª”æ¡ˆ

**ä»»å‹™**:
- [x] åˆ†æ tree è¼¸å‡º
- [x] åˆ—å‡ºæ‰€æœ‰å•é¡Œ
- [ ] å»ºç«‹å®Œæ•´çš„æª”æ¡ˆæ¸…å–®
- [ ] å»ºç«‹ç§»å‹•è¨ˆåŠƒ
- [ ] å»ºç«‹å‰µå»ºè¨ˆåŠƒ
- [ ] å»ºç«‹åˆªé™¤è¨ˆåŠƒ

**é©—è­‰**: æª”æ¡ˆæ¸…å–®å®Œæ•´ï¼Œè¨ˆåŠƒå¯è¡Œ

---

### Phase 2: æ¸…ç† Terraform å’Œè‡¨æ™‚æª”æ¡ˆ
**ç›®æ¨™**: æ¸…ç†æ‰€æœ‰ä¸æ‡‰å­˜åœ¨çš„ç›®éŒ„

**ä»»å‹™**:
- [ ] ç§»é™¤ `terraform/.terraform/`
- [ ] ç§»é™¤ `deployments/terraform/.terraform/`
- [ ] æ›´æ–° .gitignore ç¢ºä¿é€™äº›ä¸å†å‡ºç¾
- [ ] æ¸…ç†æ‰€æœ‰ .terraform.lock.hcl

**é©—è­‰**: 
```bash
find . -name ".terraform" -type d
# æ‡‰è©²è¿”å›ç©º
```

---

### Phase 3: æ•´ç† build/ ç›®éŒ„
**ç›®æ¨™**: ç¢ºä¿æ‰€æœ‰ Dockerfiles å’Œæ§‹å»ºè³‡æºåœ¨æ­£ç¢ºä½ç½®

**ä»»å‹™**:
- [ ] æª¢æŸ¥ build/docker/ ä¸­çš„æ‰€æœ‰ Dockerfiles
- [ ] å¾æ ¹ç›®éŒ„ç§»å‹•éºæ¼çš„ Dockerfiles
- [ ] é©—è­‰æ¯å€‹ Dockerfile å¯ç”¨
- [ ] å‰µå»º build/docker/README.md

**é©—è­‰**:
```bash
ls -la build/docker/*.dockerfile
# æ‡‰è©²çœ‹åˆ°æ‰€æœ‰å¿…è¦çš„ Dockerfiles
```

---

### Phase 4: å®Œæ•´å»ºç«‹ Application/Fe/
**ç›®æ¨™**: å»ºç«‹å®Œæ•´å¯é‹è¡Œçš„å‰ç«¯æ‡‰ç”¨

**ä»»å‹™**:
- [ ] æ•´åˆ legacy/web-old/ çš„å…§å®¹
- [ ] ç¢ºä¿æ‰€æœ‰ components å®Œæ•´
- [ ] ç¢ºä¿æ‰€æœ‰ pages å®Œæ•´
- [ ] ç¢ºä¿æ‰€æœ‰é…ç½®æª”æ¡ˆå®Œæ•´
- [ ] æ¸¬è©¦ npm install
- [ ] æ¸¬è©¦ npm run build

**é©—è­‰**:
```bash
cd Application/Fe
npm install
npm run build
npm run dev
# æ‡‰è©²èƒ½æ­£å¸¸å•Ÿå‹•
```

---

### Phase 5: å®Œæ•´å»ºç«‹ Application/be/
**ç›®æ¨™**: å»ºç«‹å®Œæ•´å¯ç·¨è­¯çš„å¾Œç«¯çµæ§‹

**ä»»å‹™**:
- [ ] é©—è­‰ Makefile æ‰€æœ‰è·¯å¾‘
- [ ] æ¸¬è©¦ç·¨è­¯æ¯å€‹ç¨‹å¼
- [ ] ç¢ºä¿ configs å¼•ç”¨æ­£ç¢º
- [ ] æ¸¬è©¦æ‰€æœ‰ make ç›®æ¨™

**é©—è­‰**:
```bash
cd Application/be
make info
make all
# æ‡‰è©²æˆåŠŸç·¨è­¯
```

---

### Phase 6: å®Œå–„å®‰è£æª”ç”Ÿæˆè³‡æº
**ç›®æ¨™**: ç¢ºä¿æ‰€æœ‰å®‰è£æª”å¯ä»¥æ­£ç¢ºç”Ÿæˆ

**ä»»å‹™**:
- [ ] é©—è­‰ build/installer/ æ‰€æœ‰æª”æ¡ˆ
- [ ] æ¸¬è©¦ Inno Setup è…³æœ¬
- [ ] æ¸¬è©¦ Debian æ‰“åŒ…è…³æœ¬
- [ ] æ¸¬è©¦ ISO ç”Ÿæˆè…³æœ¬
- [ ] å‰µå»ºæ¸¬è©¦èªªæ˜

**é©—è­‰**: æ¯ç¨®å®‰è£æª”éƒ½æœ‰å®Œæ•´çš„ç”Ÿæˆè³‡æº

---

### Phase 7: ä¿®æ­£æ‰€æœ‰ CI/CD Workflows
**ç›®æ¨™**: ç¢ºä¿æ‰€æœ‰ workflows å¯ä»¥æ­£å¸¸åŸ·è¡Œ

**ä»»å‹™**:
- [ ] é©—è­‰ ci.yml è·¯å¾‘
- [ ] é©—è­‰ build-onpremise-installers.yml æ‰€æœ‰æ­¥é©Ÿ
- [ ] ä¿®æ­£æ‰€æœ‰è·¯å¾‘å¼•ç”¨
- [ ] æ¸¬è©¦ workflow èªæ³•
- [ ] å‰µå»º workflow æ¸¬è©¦è¨ˆåŠƒ

**é©—è­‰**:
```bash
# ä½¿ç”¨ actionlint é©—è­‰
actionlint .github/workflows/*.yml
```

---

### Phase 8: å®Œå–„ä¸»æ§‹å»ºè…³æœ¬
**ç›®æ¨™**: build-local.* è…³æœ¬å®Œå…¨å¯ç”¨

**ä»»å‹™**:
- [ ] æ¸¬è©¦ build-local.ps1
- [ ] æ¸¬è©¦ build-local.sh
- [ ] ä¿®æ­£æ‰€æœ‰è·¯å¾‘å•é¡Œ
- [ ] æ·»åŠ æ›´å¤šéŒ¯èª¤è™•ç†
- [ ] æ¸¬è©¦å„ç¨®åƒæ•¸çµ„åˆ

**é©—è­‰**: åœ¨ Windows å’Œ Linux ä¸Šå¯¦éš›é‹è¡ŒæˆåŠŸ

---

### Phase 9: æ•´ç†å’Œæ¸…ç†
**ç›®æ¨™**: ç§»é™¤æ‰€æœ‰ä¸éœ€è¦çš„æª”æ¡ˆï¼Œæ•´ç†ç›®éŒ„çµæ§‹

**ä»»å‹™**:
- [ ] æ¸…ç†æ‰€æœ‰è‡¨æ™‚æª”æ¡ˆ
- [ ] æ•´ç† docs/ ç›®éŒ„
- [ ] æ¸…ç†èˆŠçš„æ¸¬è©¦æª”æ¡ˆ
- [ ] æ›´æ–° .gitignore
- [ ] é©—è­‰ git status

**é©—è­‰**:
```bash
git status
# æ‡‰è©²åªé¡¯ç¤ºçœŸæ­£è¦æäº¤çš„è®Šæ›´
```

---

### Phase 10: æœ€çµ‚é©—è­‰å’Œæ–‡æª”
**ç›®æ¨™**: å®Œæ•´æ¸¬è©¦ï¼Œå®Œå–„æ–‡æª”ï¼Œæº–å‚™ç™¼å¸ƒ

**ä»»å‹™**:
- [ ] åŸ·è¡Œå®Œæ•´æ§‹å»ºæ¸¬è©¦
- [ ] åŸ·è¡Œ CI/CD æ¸¬è©¦
- [ ] æ›´æ–°æ‰€æœ‰ README
- [ ] å‰µå»º CHANGELOG
- [ ] å‰µå»º commit message
- [ ] æº–å‚™ Release Notes

**é©—è­‰**: æ‰€æœ‰æ¸¬è©¦é€šéï¼Œæ–‡æª”å®Œæ•´

---

## ğŸ“ æª”æ¡ˆæ¸…å–®ï¼ˆå¾…å»ºç«‹ï¼‰

### éœ€è¦æª¢æŸ¥çš„ç›®éŒ„

1. **build/docker/**
   - [ ] agent.dockerfile
   - [ ] agent.koyeb.dockerfile
   - [ ] server-be.dockerfile
   - [ ] server-fe.dockerfile
   - [ ] monitoring.dockerfile
   - [ ] nginx.dockerfile
   - [ ] ui.patr.dockerfile
   - [ ] test.dockerfile

2. **Application/Fe/**
   - [ ] æ‰€æœ‰ components
   - [ ] æ‰€æœ‰ pages
   - [ ] æ‰€æœ‰ services
   - [ ] æ‰€æœ‰é…ç½®

3. **Application/be/**
   - [ ] Makefile
   - [ ] æ§‹å»ºè…³æœ¬
   - [ ] é…ç½®å¼•ç”¨

---

## ğŸ¯ ä¸‹ä¸€æ­¥

**ç«‹å³åŸ·è¡Œ**: Phase 1 æ·±åº¦åˆ†æ

æˆ‘å°‡ï¼š
1. åˆ—å‡ºæ‰€æœ‰ç¾æœ‰æª”æ¡ˆ
2. åˆ—å‡ºæ‰€æœ‰ç¼ºå°‘çš„æª”æ¡ˆ
3. å»ºç«‹å®Œæ•´çš„ç§»å‹•/å‰µå»º/åˆªé™¤è¨ˆåŠƒ
4. ç­‰å¾…æ‚¨ç¢ºèªå¾ŒåŸ·è¡Œ

---

**ç‹€æ…‹**: ğŸ“‹ è¦åŠƒéšæ®µ  
**ä¸‹ä¸€æ­¥**: æ·±åº¦åˆ†æ  
**é è¨ˆå®Œæˆ**: éœ€è¦ç³»çµ±æ€§åŸ·è¡Œæ‰€æœ‰éšæ®µ

