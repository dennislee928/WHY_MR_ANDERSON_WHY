# UX 設計規範
## Phase 4: 用戶體驗革命

> 📅 **創建日期**: 2025-10-09  
> 🎯 **目標**: 從技術產品到用戶喜愛的產品  
> 📊 **基於**: newspec.md 專家建議（第 654-977 行）  
> 🔴 **優先級**: P0

---

## 🎨 設計理念

### 核心原則

1. **簡單至上**: 5 分鐘從下載到運行
2. **智能預設**: 零配置也能運行
3. **視覺引導**: 不需要閱讀文檔
4. **即時反饋**: 每個操作都有明確回應
5. **容錯設計**: 錯誤可恢復，有清晰指引

### 目標用戶

| 用戶類型 | 技術水平 | 需求 | 設計重點 |
|----------|----------|------|----------|
| **家庭用戶** | 初級 | 簡單保護 | 一鍵安裝、自動配置 |
| **小企業** | 中級 | 可靠防護 | 預設模板、快速設置 |
| **企業 IT** | 高級 | 完整控制 | 進階配置、API 整合 |
| **安全研究員** | 專家 | 深度分析 | 完整數據、自訂規則 |

---

## 🚀 1. 智能安裝體驗

### 設計目標

**從這樣**:
```
❌ 下載 → 解壓 → 閱讀文檔 → 安裝依賴 → 編輯配置 → 運行 → 調試錯誤
   (需要 2-3 小時，80% 失敗率)
```

**到這樣**:
```
✅ 下載 → 雙擊 → 等待 5 分鐘 → 完成！
   (5 分鐘，95% 成功率)
```

### 安裝流程設計

#### 步驟 1: 歡迎畫面（5 秒）

```
┌─────────────────────────────────────────────────┐
│                                                 │
│         🛡️  Pandora Box Console IDS-IPS        │
│                                                 │
│         歡迎使用世界級 AI 安全平台               │
│                                                 │
│  [ 快速安裝 (推薦) ]  [ 自訂安裝 ]  [ 取消 ]   │
│                                                 │
│  快速安裝將使用智能預設值，5 分鐘內完成         │
│                                                 │
└─────────────────────────────────────────────────┘
```

#### 步驟 2: 系統檢測（10 秒）

```
┌─────────────────────────────────────────────────┐
│  正在檢測您的系統...                            │
│                                                 │
│  ✅ 作業系統: Windows 11 Pro (x64)             │
│  ✅ CPU: Intel i7-9700K (8 核心)               │
│  ✅ 記憶體: 16GB (足夠)                        │
│  ✅ 磁碟空間: 500GB (充足)                     │
│  ✅ USB-SERIAL CH340: 已檢測到 (COM3)          │
│  ✅ 網路介面: Ethernet (192.168.1.100)         │
│                                                 │
│  ⚠️  Docker: 未安裝                            │
│     [ 自動安裝 Docker ]  [ 跳過 ]              │
│                                                 │
│  [████████████████░░░░] 80% 檢測完成            │
└─────────────────────────────────────────────────┘
```

#### 步驟 3: 依賴安裝（2 分鐘）

```
┌─────────────────────────────────────────────────┐
│  正在安裝必要組件...                            │
│                                                 │
│  ✅ Docker Desktop 已安裝                       │
│  🔄 PostgreSQL 15 正在安裝... 45%              │
│  ⏳ Redis 7.2 等待中...                        │
│  ⏳ Node.js 18 等待中...                       │
│                                                 │
│  預計剩餘時間: 1 分 30 秒                      │
│                                                 │
│  [████████████░░░░░░░░] 60% 總體進度            │
│                                                 │
│  💡 提示: 安裝完成後，系統將自動啟動所有服務    │
└─────────────────────────────────────────────────┘
```

#### 步驟 4: 配置生成（10 秒）

```
┌─────────────────────────────────────────────────┐
│  正在生成安全配置...                            │
│                                                 │
│  ✅ 管理員密碼已生成: **********               │
│     (已保存到: C:\PandoraBox\admin-password.txt)│
│                                                 │
│  ✅ API 金鑰已生成                             │
│  ✅ mTLS 證書已生成（有效期 90 天）            │
│  ✅ 資料庫密碼已生成                           │
│                                                 │
│  🔒 所有敏感資訊已加密儲存                     │
│                                                 │
│  [████████████████████] 100% 配置完成           │
└─────────────────────────────────────────────────┘
```

#### 步驟 5: 服務啟動（2 分鐘）

```
┌─────────────────────────────────────────────────┐
│  正在啟動服務...                                │
│                                                 │
│  ✅ PostgreSQL 已啟動 (端口 5432)              │
│  ✅ Redis 已啟動 (端口 6379)                   │
│  ✅ RabbitMQ 已啟動 (端口 5672, 15672)         │
│  🔄 Device Service 正在啟動...                 │
│  ⏳ Network Service 等待中...                  │
│  ⏳ Control Service 等待中...                  │
│                                                 │
│  [████████████████░░░░] 80% 服務啟動            │
└─────────────────────────────────────────────────┘
```

#### 步驟 6: 完成（5 秒）

```
┌─────────────────────────────────────────────────┐
│                                                 │
│              🎉 安裝完成！🎉                    │
│                                                 │
│  Pandora Box Console 已成功安裝並運行           │
│                                                 │
│  🌐 Web 界面: http://localhost:3001            │
│     用戶名: admin                               │
│     密碼: (已複製到剪貼板)                      │
│                                                 │
│  📊 監控界面: http://localhost:3000            │
│     用戶名: admin                               │
│     密碼: pandora123                            │
│                                                 │
│  [ 開啟 Web 界面 ]  [ 查看快速指南 ]  [ 完成 ] │
│                                                 │
│  💡 系統已設置為開機自動啟動                    │
└─────────────────────────────────────────────────┘
```

---

## 🎮 2. Web 設置嚮導

### 7 步驟嚮導設計

#### Step 1: 歡迎

```
┌─────────────────────────────────────────────────────────────┐
│  [1] 歡迎  →  [2] 檢查  →  [3] 帳號  →  [4] 功能  →  ...    │
│  ═══════                                                     │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│         歡迎使用 Pandora Box Console IDS-IPS                │
│                                                             │
│         讓我們花 5 分鐘設置您的安全系統                     │
│                                                             │
│  [ 開始設置 ]                                               │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

#### Step 2: 系統檢查

```
┌─────────────────────────────────────────────────────────────┐
│  [1] 歡迎  →  [2] 檢查  →  [3] 帳號  →  [4] 功能  →  ...    │
│              ═══════                                         │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  系統檢查                                                   │
│                                                             │
│  ✅ CPU: 8 核心 (推薦 2+)                                  │
│  ✅ RAM: 16GB (推薦 4GB+)                                  │
│  ✅ 磁碟: 500GB 可用 (推薦 20GB+)                          │
│  ✅ 網路: 2 個介面檢測到                                   │
│     • eth0: 192.168.1.100                                  │
│     • wlan0: 192.168.1.101                                 │
│  ✅ USB 設備: CH340 已連接 (COM3)                          │
│                                                             │
│  💡 您的系統配置優秀！我們推薦啟用所有 AI 功能              │
│                                                             │
│  [ 上一步 ]                              [ 下一步 ] →      │
└─────────────────────────────────────────────────────────────┘
```

#### Step 3: 管理員帳號

```
┌─────────────────────────────────────────────────────────────┐
│  [1] 歡迎  →  [2] 檢查  →  [3] 帳號  →  [4] 功能  →  ...    │
│                          ═══════                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  創建管理員帳號                                             │
│                                                             │
│  用戶名: [admin_________________] ✅ 可用                  │
│                                                             │
│  電子郵件: [admin@example.com____] ✅ 格式正確             │
│                                                             │
│  密碼: [••••••••••••••••••••••] ✅ 強度: 強                │
│         密碼強度: [████████████████████] 100%              │
│                                                             │
│  確認密碼: [••••••••••••••••••••••] ✅ 匹配                │
│                                                             │
│  [ ] 啟用雙因子認證 (2FA)                                  │
│  [✓] 記住我的選擇                                          │
│                                                             │
│  [ 上一步 ]                              [ 下一步 ] →      │
└─────────────────────────────────────────────────────────────┘
```

#### Step 4: 功能選擇

```
┌─────────────────────────────────────────────────────────────┐
│  [1] 歡迎  →  [2] 檢查  →  [3] 帳號  →  [4] 功能  →  ...    │
│                                      ═══════                 │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  選擇要啟用的功能                                           │
│                                                             │
│  🧠 AI 威脅檢測                                            │
│  [✓] 深度學習檢測 (99%+ 準確率)                           │
│      💡 推薦：您的系統資源充足，可以啟用                    │
│                                                             │
│  [✓] Bot 檢測 (95%+ 準確率)                               │
│  [✓] 行為基線建模 (7 天學習期)                            │
│                                                             │
│  🛡️ 安全防護                                              │
│  [✓] WAF 防護 (8 規則類別)                                │
│  [✓] TLS Fingerprinting (98%+ 識別率)                     │
│  [✓] 多層級率限制                                          │
│  [ ] 虛擬等待室 (高流量場景)                               │
│                                                             │
│  🤖 自動化響應                                             │
│  [✓] 自動威脅響應 (SOAR)                                  │
│  [ ] n8n 工作流程整合                                      │
│                                                             │
│  預設模板: [ Home Lab ▼]                                   │
│                                                             │
│  [ 上一步 ]                              [ 下一步 ] →      │
└─────────────────────────────────────────────────────────────┘
```

#### Step 5: 網路配置

```
┌─────────────────────────────────────────────────────────────┐
│  [1] 歡迎  →  [2] 檢查  →  [3] 帳號  →  [4] 功能  →  [5] 網路│
│                                                  ═══════     │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  網路配置                                                   │
│                                                             │
│  選擇監控介面:                                              │
│  (•) eth0 - 192.168.1.100 (推薦)                           │
│  ( ) wlan0 - 192.168.1.101                                 │
│  ( ) 所有介面                                              │
│                                                             │
│  [實時流量預覽]                                             │
│  ┌─────────────────────────────────────┐                  │
│  │ 當前流量: 127 Mbps ↑ 45 Mbps ↓     │                  │
│  │ 活躍連接: 23                        │                  │
│  │ 威脅: 0                             │                  │
│  └─────────────────────────────────────┘                  │
│                                                             │
│  阻斷模式:                                                  │
│  (•) 自動 (AI 決定)                                        │
│  ( ) 手動 (需要確認)                                       │
│  ( ) 僅記錄 (不阻斷)                                       │
│                                                             │
│  [ 測試網路連接 ]                                           │
│                                                             │
│  [ 上一步 ]                              [ 下一步 ] →      │
└─────────────────────────────────────────────────────────────┘
```

#### Step 6: 通知設置

```
┌─────────────────────────────────────────────────────────────┐
│  [1] 歡迎  →  ... →  [5] 網路  →  [6] 通知  →  [7] 審查     │
│                                   ═══════                   │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  通知設置                                                   │
│                                                             │
│  📧 Email 通知                                             │
│  [✓] 啟用 Email 告警                                       │
│      SMTP 伺服器: [smtp.gmail.com_____]                    │
│      端口: [587___] TLS: [✓]                               │
│      發件人: [admin@example.com____]                       │
│      密碼: [••••••••••••••]                                │
│      [ 測試連接 ] ✅ 連接成功！                            │
│                                                             │
│  💬 Slack 通知                                             │
│  [ ] 啟用 Slack 整合                                       │
│      Webhook URL: [_____________________]                  │
│      頻道: #security                                        │
│                                                             │
│  📱 推送通知 (行動應用)                                    │
│  [ ] 啟用推送通知                                          │
│                                                             │
│  告警級別: [✓] Critical  [✓] High  [ ] Medium  [ ] Low    │
│                                                             │
│  [ 上一步 ]                              [ 下一步 ] →      │
└─────────────────────────────────────────────────────────────┘
```

#### Step 7: 審查確認

```
┌─────────────────────────────────────────────────────────────┐
│  [1] 歡迎  →  ... →  [6] 通知  →  [7] 審查                  │
│                                   ═══════                   │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  配置審查                                                   │
│                                                             │
│  ✅ 管理員帳號: admin (admin@example.com)                  │
│  ✅ 監控介面: eth0 (192.168.1.100)                         │
│  ✅ 啟用功能: AI 檢測、WAF、Bot 防護、SOAR                 │
│  ✅ 通知方式: Email (已測試)                               │
│                                                             │
│  安裝位置: C:\Program Files\PandoraBox                     │
│  資料目錄: C:\ProgramData\PandoraBox                       │
│  日誌目錄: C:\ProgramData\PandoraBox\logs                  │
│                                                             │
│  [ 導出配置為 JSON ]                                        │
│                                                             │
│  一切準備就緒！點擊「完成安裝」開始部署                     │
│                                                             │
│  [ 上一步 ]              [ 完成安裝 ] 🚀                   │
└─────────────────────────────────────────────────────────────┘
```

---

## 🎯 3. 威脅響應 Playbooks UI

### Playbook 管理界面

```
┌─────────────────────────────────────────────────────────────┐
│  Pandora Box Console  │  威脅響應 Playbooks                  │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  [ + 新建 Playbook ]  [ 📥 導入 ]  [ 🔍 搜尋 ]            │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐  │
│  │ 🔴 DDoS 攻擊響應                        [✓] 已啟用  │  │
│  │ 觸發: 流量 > 10K req/s                              │  │
│  │ 動作: 啟用率限制 → 自動擴展 → 通知團隊              │  │
│  │ 執行次數: 3 次  |  成功率: 100%                      │  │
│  │ [ 編輯 ]  [ 測試 ]  [ 查看歷史 ]                    │  │
│  └─────────────────────────────────────────────────────┘  │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐  │
│  │ 🟡 暴力破解防禦                      [✓] 已啟用  │  │
│  │ 觸發: 失敗登入 > 5 次/分鐘                          │  │
│  │ 動作: 阻斷 IP → 通知管理員 → 更新防火牆            │  │
│  │ 執行次數: 12 次  |  成功率: 100%                    │  │
│  │ [ 編輯 ]  [ 測試 ]  [ 查看歷史 ]                    │  │
│  └─────────────────────────────────────────────────────┘  │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐  │
│  │ 🟢 SQL 注入攻擊                      [✓] 已啟用  │  │
│  │ 觸發: WAF 檢測到 SQL 注入模式                       │  │
│  │ 動作: 阻斷請求 → 記錄詳情 → 告警 SOC               │  │
│  │ 執行次數: 0 次  |  成功率: N/A                      │  │
│  │ [ 編輯 ]  [ 測試 ]  [ 查看歷史 ]                    │  │
│  └─────────────────────────────────────────────────────┘  │
│                                                             │
│  顯示 3 / 52 個 Playbooks                                  │
│  [ 載入更多 ]                                               │
└─────────────────────────────────────────────────────────────┘
```

### Playbook 視覺化編輯器

```
┌─────────────────────────────────────────────────────────────┐
│  編輯 Playbook: DDoS 攻擊響應                               │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  [觸發條件]                                                 │
│  ┌─────────────────────────────────────────────────────┐  │
│  │  IF  流量 > [10000___] req/s                        │  │
│  │  AND 來源 IP < [10____] 個                          │  │
│  │  THEN 執行以下動作                                  │  │
│  │  [ + 添加條件 ]                                     │  │
│  └─────────────────────────────────────────────────────┘  │
│                                                             │
│  [動作流程]                                                 │
│  ┌─────────────────────────────────────────────────────┐  │
│  │  1. [啟用率限制] → 限制: 100 req/s/IP               │  │
│  │     ↓                                                │  │
│  │  2. [自動擴展] → 擴展到: 20 副本                    │  │
│  │     ↓                                                │  │
│  │  3. [發送通知] → Slack #security + Email           │  │
│  │     ↓                                                │  │
│  │  4. [記錄事件] → 嚴重程度: Critical                 │  │
│  │                                                      │  │
│  │  [ + 添加動作 ]  [ 拖放重新排序 ]                   │  │
│  └─────────────────────────────────────────────────────┘  │
│                                                             │
│  [ 測試 Playbook ]  [ 保存 ]  [ 取消 ]                     │
└─────────────────────────────────────────────────────────────┘
```

---

## 📱 4. 行動應用設計

### 主畫面

```
┌─────────────────────────┐
│  Pandora Box Console    │
│  ──────────────────────  │
│                         │
│  🛡️ 系統狀態: 正常      │
│  ───────────────────    │
│  ✅ 所有服務運行中      │
│  ✅ AI 檢測啟用         │
│  ✅ 0 個威脅            │
│                         │
│  📊 今日統計            │
│  ───────────────────    │
│  流量: 1.2 TB          │
│  連接: 1,247           │
│  阻斷: 3 個 IP         │
│                         │
│  🔔 最近告警            │
│  ───────────────────    │
│  🟡 端口掃描 (2小時前)  │
│  🟢 假陽性 (5小時前)    │
│                         │
│  [ 查看詳情 ]           │
│                         │
│  ────────────────────   │
│  [🏠] [📊] [🔔] [⚙️]   │
└─────────────────────────┘
```

### 威脅詳情

```
┌─────────────────────────┐
│  ← 威脅詳情             │
│  ──────────────────────  │
│                         │
│  🔴 DDoS 攻擊           │
│  ───────────────────    │
│  時間: 14:23:45        │
│  來源: 47 個 IP        │
│  目標: 192.168.1.100   │
│  流量: 15K req/s       │
│                         │
│  [流量圖表]             │
│  ┌───────────────────┐ │
│  │    ╱╲             │ │
│  │   ╱  ╲            │ │
│  │  ╱    ╲___        │ │
│  └───────────────────┘ │
│                         │
│  AI 分析: 99.7% 確定   │
│  這是 DDoS 攻擊        │
│                         │
│  已執行動作:            │
│  ✅ 啟用率限制          │
│  ✅ 阻斷 47 個 IP      │
│  ✅ 通知團隊            │
│                         │
│  [ 手動阻斷更多 IP ]    │
│  [ 生成報告 ]           │
│  [ 分享 ]               │
└─────────────────────────┘
```

---

## 🎬 5. 電影級儀表板

### 主題: Cyberpunk

```
┌─────────────────────────────────────────────────────────────┐
│  🌐 PANDORA BOX CONSOLE  │  ⚡ 99.999% UPTIME  │  🔴 LIVE   │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌──────────────────────────┐  ┌──────────────────────┐   │
│  │   3D NETWORK GLOBE       │  │  THREAT ANALYSIS     │   │
│  │                          │  │  ──────────────────  │   │
│  │      🌍                  │  │  🧠 Deep Learning    │   │
│  │     ╱ ╲                 │  │     Active: ✅       │   │
│  │    │   │                │  │     Accuracy: 99.7%  │   │
│  │     ╲ ╱                 │  │                      │   │
│  │      •                   │  │  🎯 Bot Detection    │   │
│  │   ╱  │  ╲               │  │     Active: ✅       │   │
│  │  •   •   •              │  │     Blocked: 127     │   │
│  │                          │  │                      │   │
│  │  • 127 connections       │  │  🛡️ WAF Protection  │   │
│  │  • 3 threats blocked     │  │     Rules: 8/8       │   │
│  │  • 0.3 Gbps throughput  │  │     Blocked: 45      │   │
│  └──────────────────────────┘  └──────────────────────┘   │
│                                                             │
│  ┌──────────────────────────┐  ┌──────────────────────┐   │
│  │   RECENT THREATS         │  │  SYSTEM HEALTH       │   │
│  │  ──────────────────────  │  │  ──────────────────  │   │
│  │  🔴 DDoS Attack          │  │  CPU:  ████░░░░ 42%  │   │
│  │     14:23:45 | Blocked   │  │  RAM:  ██████░░ 67%  │   │
│  │                          │  │  Disk: ███░░░░░ 34%  │   │
│  │  🟡 Port Scan            │  │  Net:  ⬆️ 127 Mbps  │   │
│  │     12:15:30 | Watching  │  │        ⬇️ 45 Mbps   │   │
│  │                          │  │                      │   │
│  │  🟢 False Positive       │  │  Services: 3/3 ✅    │   │
│  │     10:05:12 | Cleared   │  │  Latency: 1.8ms     │   │
│  └──────────────────────────┘  └──────────────────────┘   │
│                                                             │
│  [🔊 Sound: ON]  [🎨 Theme: Cyberpunk]  [⚙️ Settings]     │
└─────────────────────────────────────────────────────────────┘
```

---

## 📊 實施優先級

### P0 - 必須實施（Week 9-14）

1. ✅ 智能安裝程式
2. ✅ Web 設置嚮導
3. ✅ 威脅響應 Playbooks

**理由**: 直接影響用戶採用率和成功率

### P1 - 強烈推薦（Week 15-18）

4. ✅ 集成市場
5. ✅ AI 聊天機器人

**理由**: 顯著提升用戶體驗和價值

### P2 - 競爭優勢（Week 19-24）

6. ✅ 取證時光機
7. ✅ 行動應用
8. ✅ 電影級儀表板

**理由**: 市場差異化，吸引高端客戶

---

## 🎯 成功指標

### 用戶體驗指標

| 指標 | 當前 | 目標 | 測量方法 |
|------|------|------|----------|
| 安裝成功率 | 60% | 95% | 遙測數據 |
| 首次配置成功率 | 50% | 90% | 用戶調查 |
| 平均安裝時間 | 45 min | 5 min | 自動追蹤 |
| 支援票券 | 100/月 | 30/月 | 票務系統 |
| 用戶滿意度 | 70% | 90% | NPS 調查 |

### 技術指標

| 指標 | 目標 |
|------|------|
| 安裝器檢測準確率 | 99% |
| 自動依賴安裝成功率 | 95% |
| 配置驗證覆蓋率 | 100% |
| 錯誤訊息清晰度 | 90% |

---

## 🔗 相關文檔

- 📊 [專家分析](../newspec.md) - 原始建議
- 📋 [Phase 4 路線圖](PHASE4-ROADMAP.md)
- 🧪 [測試策略](TESTING-STRATEGY.md)
- 🎨 [UX 設計規範](UX-DESIGN-SPEC.md)（本文件）

---

**版本**: 4.0.0-design  
**狀態**: 📅 設計階段  
**下一步**: 開始實施智能安裝程式

**🎨 讓我們創造用戶喜愛的產品！**

