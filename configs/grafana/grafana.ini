# Grafana 設定檔

[default]
# 實例名稱
instance_name = pandora-box-console

[paths]
# 資料目錄
data = /var/lib/grafana
# 日誌目錄
logs = /var/log/grafana
# 外掛目錄
plugins = /var/lib/grafana/plugins
# 佈建目錄
provisioning = /etc/grafana/provisioning

[server]
# 協定 (http, https, socket)
protocol = http
# 監聽地址
http_addr = 0.0.0.0
# 監聽端口
http_port = 3000
# 域名
domain = localhost
# 啟用gzip
enable_gzip = true
# 根 URL
root_url = http://localhost:3000/

[database]
# 資料庫類型
type = sqlite3
# 連接字串
path = /var/lib/grafana/grafana.db
# 最大開放連線數
max_open_conn = 300
# 最大閒置連線數
max_idle_conn = 2
# 連線最大生命週期
conn_max_lifetime = 14400

[session]
# 會話提供者
provider = file
# 會話設定
provider_config = sessions
# Cookie 名稱
cookie_name = grafana_sess
# Cookie 安全設定
cookie_secure = false
# 會話生命週期
session_life_time = 86400

[security]
# 管理員使用者
admin_user = admin
# 管理員密碼
admin_password = pandora123
# 秘鑰
secret_key = SW2YcwTIb9zpOOhoPsMm
# 登入記住天數
login_remember_days = 7
# Cookie 安全
cookie_secure = false
# Cookie 同源
cookie_samesite = lax
# 允許嵌入
allow_embedding = true

[users]
# 允許註冊
allow_sign_up = false
# 允許組織建立
allow_org_create = false
# 自動分配組織
auto_assign_org = true
# 自動分配角色
auto_assign_org_role = Viewer
# 預設主題
default_theme = dark

[auth]
# 禁用登入表單
disable_login_form = false
# 禁用登出重定向
disable_signout_menu = false

[auth.anonymous]
# 啟用匿名存取
enabled = false
# 匿名組織名稱
org_name = Main Org.
# 匿名角色
org_role = Viewer

[smtp]
enabled = false
host = localhost:587
user =
password =
from_address = admin@grafana.localhost
from_name = Grafana

[alerting]
# 禁用舊版告警
enabled = false

[metrics]
# 啟用指標
enabled = true
# 基本認證使用者名
basic_auth_username =
# 基本認證密碼
basic_auth_password =
# 間隔秒數
interval_seconds = 10

[metrics.graphite]
# Graphite 地址
address =
# 前綴
prefix = prod.grafana.%(instance_name)s.

[snapshots]
# 外部快照伺服器
external_enabled = false
external_snapshot_url = https://snapshots-origin.raintank.io
external_snapshot_name = Publish to snapshot.raintank.io

[dashboards]
# 版本保留天數
versions_to_keep = 20
# 最小重新整理間隔
min_refresh_interval = 5s

[explore]
# 啟用 Explore
enabled = true

[log]
# 日誌模式
mode = console file
# 日誌等級
level = info
# 過濾器
filters = rendering:debug

[log.console]
# 日誌等級
level = info
# 日誌格式
format = console

[log.file]
# 日誌等級
level = info
# 日誌格式
format = text
# 日誌檔案路徑
log_rotate = true
# 每日輪替
max_lines = 1000000
# 最大檔案大小
max_size_shift = 28
# 保留天數
daily_rotate = true
# 最大保留天數
max_days = 7

[panels]
# 禁用清理
disable_sanitize_html = false

[plugins]
# 啟用 Alpha 外掛
enable_alpha = false
# 外掛目錄
plugin_admin_enabled = true

[feature_toggles]
# 啟用 ngAlert
enable = ngalert

[unified_alerting]
# 啟用統一告警
enabled = true
# 禁用舊版告警
disabled_orgs = 1
# 最小間隔
min_interval = 10s
# 執行超時
execute_alerts = true

[ngalert]
# 告警規則最大數量
max_rule_groups_per_org = 100
# 評估超時
evaluation_timeout = 30s
# 最大註解長度
max_annotation_length = 500
# 最大標籤長度
max_label_length = 500

[date_formats]
# 完整日期
full_date = MMM Do, YYYY hh:mm:ss a
# 間隔秒
interval_second = hh:mm:ss a
# 間隔分鐘
interval_minute = hh:mm a
# 間隔小時
interval_hour = MMM Do hh:mm a
# 間隔天
interval_day = MMM Do
# 間隔月
interval_month = MMM YYYY
# 間隔年
interval_year = YYYY
# 使用瀏覽器時區
use_browser_locale = false

[expressions]
# 啟用
enabled = true
